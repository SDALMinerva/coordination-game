{% extends "main/Discuss.html" %}
{% load staticfiles otree_tags %}

{% block title %}
Tour
{% endblock %}

{% block avatar %}
    {% static "avatar/Cow-icon.png" %}
{% endblock %}

{% block userName %}
    Cow
{% endblock %}

{% block threshold %}
    1
{% endblock %}

{% block content %}
{{block.super}}
<div class="modal fade" id="tourModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Tour</h4>
      </div>
      <div class="modal-body">
        <p>
            Before we begin the game, we will demonstrate how the platform works with an interactive tour. 
            As you proceed, you can interact with the interface and then click next to advance the tour.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="startIntro()">Begin Tour</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block participate %}
 <div class="form-group" id="participate-group">
    <label class="control-label" for="id_participate">Will you participate?</label>
    <div class="controls  field-participate">
        <ul>
	       <li><label for="id_participate_1"><input type="radio" id="id_participate_1" value="True"> Yes</label></li>
	       <li><label for="id_participate_2"><input type="radio" id="id_participate_2" value="False"> No</label></li>
        </ul>
    </div><!--- .controls -->
</div><!--- .form-group -->
{% endblock %}

{% block scripts %}

    {% block pageScripts %}
        <script type="text/javascript" >
            var output = true;
        </script>
    {% endblock %}

    <script type="text/javascript">

        $('#tourModal').modal({
            'backdrop': 'static',        
        });    
    
        var messageList = [
            'I will participate.',
            'I will not participate.',        
        ];
        var messageRound = 1;
        var nMessagingRound = 1;
        var playerId = 1;
        var nodeId = 1;
        var neighbor_net = {
//            1: [2,3,4,5], 
            2: [1],
            3: [1], 
            4: [1],
            5: [1],
            };
        var neighbors = [2,3,4,5];
        var thresholds = {
            1: '1', 
            2: '3',
            3: '3', 
            4: '1',
            5: '1',
            };
        var userNames = {
            1: 'Cow', 
            2: 'Turtle',
            3: 'Cat', 
            4: 'Swan',
            5: 'Eagle',
            };
        var avatars = {
            1: 'Cow-icon.png', 
            2: 'Turtle-icon.png',
            3: 'Cat-icon.png', 
            4: 'Swan-icon.png',
            5: 'Eagle-icon.png',
            };
            
        var entries = [];
        var privateEntries = [];
        var network_nodes = [
            {'label': 'Cow (You)', 'shape': 'circularImage', 'image': '/static/avatar/Cow-icon.png', 'id': 1},
            {'label': 'Turtle', 'shape': 'circularImage', 'image': '/static/avatar/Turtle-icon.png', 'id': 2},
            {'label': 'Cat', 'shape': 'circularImage', 'image': '/static/avatar/Cat-icon.png', 'id': 3},
            {'label': 'Swan', 'shape': 'circularImage', 'image': '/static/avatar/Swan-icon.png', 'id': 4},
            {'label': 'Eagle', 'shape': 'circularImage', 'image': '/static/avatar/Eagle-icon.png', 'id': 5},
            ]
        var network_edges = [
            {"to": 1, "from": 2},
            {"to": 1, "from": 3},
            {"to": 1, "from": 4},
            {"to": 1, "from": 5},
            ];
        
    </script>

    <script type="text/javascript" src={% static "global/hash.js" %}></script>
    <script type="text/javascript" src={% static "global/jquery-ui.min.js" %}></script>
    <script type="text/javascript" src={% static "global/player_list.js" %}></script>
    
            {% with 'wall both' as list %}
                {% if session.config.condition_messaging in list.split %}
                    <script type="text/javascript" src={% static "global/wall.js" %}></script>
              	{% endif %}
      		{% endwith %}
      		{% with 'bilateral both' as list %}
      		{% if session.config.condition_messaging in list.split %}
          		    <script type="text/javascript" src={% static "global/messenger.js" %}></script>
            {% endif %}
            {% endwith %}
    
    <script type="text/javascript" src={% static "tour/chat-tour.js" %}></script>
    <script type="text/javascript" src={% static "global/vis.min.js" %}></script>
    <script type="text/javascript" src={% static "global/intro.min.js" %}></script>
    <script type="text/javascript" src={% static "main/network.js" %}></script>
    <script type="text/javascript" src={% static "main/tutorial.js" %}></script>
    
    <script type="text/javascript" >
      var playerProfile = document.getElementById('playerLabel');
      playerProfile.onclick = function() {
    	wall.changeId(nodeId);
      }
      
      
    
    {% with 'wall none' as list %}
        {% if session.config.condition_messaging in list.split %}    
            $('.message-icon').hide();
        {% endif %}
    {% endwith %}
    
    {% with 'bilateral none' as list %}
        {% if session.config.condition_messaging in list.split %}    
            $('.linking-button').off("click");
            $('.linking-button').each(function () {
                this.onclick = undefined;
                });
        {% endif %}
    {% endwith %}
    
    $('[data-toggle="tooltip"]').tooltip({
        trigger: 'hover'
    });
    
    </script>

{% endblock %}