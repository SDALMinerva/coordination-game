{% extends "global/Page.html" %}
{% load staticfiles otree %}

{% block title %}
    Survey
{% endblock %}

{% block content %}
    {% if session.is_demo %}
        <a href="#" onclick="setVals()">DEMO: Click here to fill vals.</a>
    {% endif %}
    <h4>This survey is designed to collect personal and household information.</h4>

    {% for field in form %}
        {% if field.html_name == "country_reside" %}
            <label>What is your current residence?</label>
			<div class="subquestion">
        {% elif field.html_name == "subject_econ" %}
            <label>Have you taken college-level courses in the following subjects?</label>
			<div class="subquestion">
        {% elif field.html_name == "partTime" %}
            <label>What is your employment status?  Please check all that apply.</label>
        {% elif field.html_name == "sports" %}
            <label>How do you spend your free time?  Please check all that apply.</label>
			<div class="subquestion">
        {% elif field.html_name == "residents0to6" %}
            <label>How many of the people living in your residence are in each of the following age categories?</label>
			<div class="subquestion">
        {% elif field.html_name == "activitySchool" or field.html_name == "activityCollegeClubs" %}
            <label>Of the people living in your residence (including yourself), how many ...</label>
			<div class="subquestion">
        {% endif %}
		
        {% formfield field %}
		
		{% if field.html_name == "city_reside" or field.html_name == "subject_stat" or field.html_name == "otherWork" or field.html_name == "otherFreeTime" or field.html_name == "residents65up" or field.html_name == "activityEvening" or field.html_name == "activityFlu" and  player.isStudent %}
			</div>
        {% endif %}
    {% endfor %}
    

    {% next_button %}

{% endblock %}

{% block scripts %}
    <script type="text/javascript">

        {% if session.is_demo %}
        var setVals = function (){
            $(":text").val('X');
           	$('input[type="number"]').val('999');
           	$('input:radio').prop('checked', true);
           	$('select option').prop('selected', true);
        }
        {% endif %}    
    
        {% if session.config.student_survey %}
            var major = document.querySelectorAll("[for=\"id_major\"]")[0];
            major.innerHTML = "What is your major?";
        {% endif %}
    
        var tribe1 = document.querySelectorAll("[for=\"id_tribe\"]")[0];
        tribe1.style.display = "inline-block";
        var tribe2 = document.getElementsByClassName("field-tribe")[0];
        tribe2.style.display = "inline-block";
        var tribeSpecify = tribe1.parentNode;
        var tribe = document.querySelectorAll("[for=\"id_race_3\"]")[0].parentNode;
        tribe.appendChild(tribeSpecify);
        tribeSpecify.style.display = "inline-block";
        tribeSpecify.style.marginLeft = "5px";
        tribeSpecify.style.marginBottom = "1px";
        
        var otherAsian1 = document.querySelectorAll("[for=\"id_otherAsian\"]")[0];
        otherAsian1.style.display = "inline-block";
        var otherAsian2 = document.getElementsByClassName("field-otherAsian")[0];
        otherAsian2.style.display = "inline-block";
        var otherAsianSpecify = otherAsian1.parentNode;
        var otherAsian = document.querySelectorAll("[for=\"id_race_13\"]")[0].parentNode;
        otherAsian.appendChild(otherAsianSpecify);
        otherAsianSpecify.style.display = "inline-block";
        otherAsianSpecify.style.marginLeft = "5px";
        otherAsianSpecify.style.marginBottom = "1px";
        
        var otherPacificIslander1 = document.querySelectorAll("[for=\"id_otherPacificIslander\"]")[0];
        otherPacificIslander1.style.display = "inline-block";
        var otherPacificIslander2 = document.getElementsByClassName("field-otherPacificIslander")[0];
        otherPacificIslander2.style.display = "inline-block";
        var otherPacificIslanderSpecify = otherPacificIslander1.parentNode;
        var otherPacificIslander = document.querySelectorAll("[for=\"id_race_14\"]")[0].parentNode;
        otherPacificIslander.appendChild(otherPacificIslanderSpecify);
        otherPacificIslanderSpecify.style.display = "inline-block";
        otherPacificIslanderSpecify.style.marginLeft = "5px";
        otherPacificIslanderSpecify.style.marginBottom = "1px";
        
        var otherRace1 = document.querySelectorAll("[for=\"id_otherRace\"]")[0];
        otherRace1.style.display = "inline-block";
        var otherRace2 = document.getElementsByClassName("field-otherRace")[0];
        otherRace2.style.display = "inline-block";
        var otherRaceSpecify = otherRace1.parentNode;
        var otherRace = document.querySelectorAll("[for=\"id_race_15\"]")[0].parentNode;
        otherRace.appendChild(otherRaceSpecify);
        otherRaceSpecify.style.display = "inline-block";
        otherRaceSpecify.style.marginLeft = "5px";
        otherRaceSpecify.style.marginBottom = "1px";
        
        var otherWork1 = document.querySelectorAll("[for=\"id_otherWorkSpecify\"]")[0];
        otherWork1.style.display = "inline-block";
        var otherWork2 = document.getElementsByClassName("field-otherWorkSpecify")[0];
        otherWork2.style.display = "inline-block";
        var otherWorkSpecify = otherWork1.parentNode;
        var otherWork = document.querySelectorAll("[for=\"id_otherWork\"]")[0].parentNode;
        otherWork.appendChild(otherWorkSpecify);
        otherWorkSpecify.style.display = "inline";
        otherWork.marginTop = "10px";
        
        var otherFreeTime1 = document.querySelectorAll("[for=\"id_otherFreeTimeSpecify\"]")[0];
        otherFreeTime1.style.display = "inline-block";
        var otherFreeTime2 = document.getElementsByClassName("field-otherFreeTimeSpecify")[0];
        otherFreeTime2.style.display = "inline-block";
        var otherFreeTimeSpecify = otherFreeTime1.parentNode;
        var otherFreeTime = document.querySelectorAll("[for=\"id_otherFreeTime\"]")[0].parentNode;
        otherFreeTime.appendChild(otherFreeTimeSpecify);
        otherFreeTimeSpecify.style.display = "inline";
        otherFreeTime.marginTop = "10px";
    </script>
{% endblock %}

{% block app_styles %}
    <style type="text/css">
        .subquestion label, li label {
            font-weight: normal;
        }
        
        #id_middleInitial {
            max-width: 50px;
        }
        
        #id_otherWork, #id_otherFreeTime {
            margin-top: 10px;
        }
    </style>
{% endblock %}
